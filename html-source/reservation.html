<!doctype html>
<html lang="en">

<head>
     <meta charset="utf-8">
     <meta name="viewport" content="width=device-width, initial-scale=1">
     <title>My nice page</title>

     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
     <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.3.4/dist/css/datepicker-bs5.min.css">
     <link rel="stylesheet" type="text/css" href="https://unpkg.com/notie/dist/notie.min.css">
     <link rel="stylesheet" type="text/css" href="static/css/styles.css">

     


     <style>
          .btn-outline-secondary {
               color: aqua;
               border-color: #6c757d;
          }

          
     </style>
</head>

<body>

     <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
          <div class="container-fluid">
               <a class="navbar-brand" href="#">Navbar</a>
               <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
               </button>
               <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                         <li class="nav-item">
                              <a class="nav-link active" aria-current="page" href="index.html">Home</a>
                         </li>
                         <li class="nav-item">
                              <a class="nav-link" href="about.html">About</a>
                         </li>
                         <li class="nav-item dropdown">
                              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                                   data-bs-toggle="dropdown" aria-expanded="false">
                                   Rooms
                              </a>
                              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                   <li><a class="dropdown-item" href="generals.html">King's ROOM</a></li>
                                   <li><a class="dropdown-item" href="majors.html">Queen-ROOM</a></li>
                              </ul>
                         </li>
                         <li class="nav-item">
                              <a class="nav-link" href="reservation.html" tabindex="-1" aria-disabled="true">Book
                                   Now</a>
                         </li>
                         <li class="nav-item">
                              <a class="nav-link" href="contact.html" tabindex="-1" aria-disabled="true">Contact</a>
                         </li>
                    </ul>
                    <form class="d-flex">
                         <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                         <button class="btn btn-outline-success" type="submit">Search</button>
                    </form>
               </div>
          </div>
     </nav>


     <div class="container">

          <div class="row">
               <div class="col-md-1"></div>
               <div class="col-md-6">
                    <h1 class="mt-5">Search for Availability</h1>

                    <form action="reservation.html" method="get" novalidate class="needs-validation">

                         <div class="row">
                              <div class="col">
                                   <div class="row" id="reservation-dates">
                                        <div class="col">
                                             <input required class="form-control" type="text" name="start"
                                                  placeholder="Arrival Date">
                                        </div>

                                        <div class="col">
                                             <input required class="form-control" type="text" name="end"
                                                  placeholder="Departure Date">
                                        </div>
                                   </div>

                              </div>
                         </div>
                         <hr>
                         <button type="submit" class="btn btn-primary mt-1">Search Availability</button>
                    </form>
               </div>
          </div>

     </div>

     <div class="row my-footer">
          <div class="col">
               Left
          </div>
          <div class="col">
               Middle
          </div>
          <div class="col">
               Right
          </div>
     </div>

     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
          crossorigin="anonymous"></script>
     <script src="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.3.4/dist/js/datepicker.min.js"></script>
     <script src="https://unpkg.com/notie"></script>
     <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

      
     <script>

          let attention = prompt();

          // Example starter JavaScript for disabling form submissions if there are invalid fields
          (function () {
               'use strict';
               window.addEventListener('load', function () {
                    // Fetch all the forms we want to apply custom Bootstrap validation styles to
                    var forms = document.getElementsByClassName('needs-validation');
                    // Loop over them and prevent submission
                    var validation = Array.prototype.filter.call(forms, function (form) {
                         form.addEventListener('submit', function (event) {
                              if (form.checkValidity() === false) {
                                   event.preventDefault();
                                   event.stopPropagation();
                              }
                              form.classList.add('was-validated');
                         }, false);
                    });
               }, false);
          })();

          document.getElementById("colorButton").addEventListener("click", function () {

               let html = `
                    <form id="check-availability-form" action="" method="post" novalidate class="needs-validation">
                         <div class="row">
                              <div class="col">
                                   <div class="row" id="reservation-dates-modal">
                                        <div class="col">
                                             <input disabled required class="form-control" type="text" name="start" id="start" placeholder="Arrival">
                                        </div>
                                        <div class="col">
                                             <input disabled required class="form-control" type="text" name="end" id="end" placeholder="End Departure">
                                        </div>
                                   </div>
                              </div>
                         </div>
                    </form>
                    `;

               //notify("You are my ONLY LOVER girl :)", "info");
               //notifyModal("I WANT IT THAT WAYY.. TELL ME WHY ?", "Too late to let you know, My heart it aches :(" ,"success", "REAL FOLK BLUES !");     
               //attention.toast();
               attention.custom({ msg: html, title: "Choose Your Dates" });
          });


          document.addEventListener('DOMContentLoaded', function () {
               const startInput = document.querySelector('[name="start"]');
               const endInput = document.querySelector('[name="end"]');

               if (startInput && endInput) {
                    // Initialize the DatePicker for both inputs
                    const startPicker = new Datepicker(startInput, {
                         format: 'mm/dd/yyyy',
                         autohide: true,
                    });

                    const endPicker = new Datepicker(endInput, {
                         format: 'mm/dd/yyyy',
                         autohide: true,
                    });

                    // Additional logic can be added here to manage date ranges
               } else {
                    console.error("Date inputs not found.");
               }
          });

          function notify(msg, msgType) {

               notie.alert({
                    type: msgType, // optional, default = 4, enum: [1, 2, 3, 4, 5, 'success', 'warning', 'error', 'info', 'neutral']
                    text: msg,
               })
          }

          function notifyModal(title, text, icon, confirmButtonText) {
               Swal.fire({
                    title: title,
                    text: text,
                    icon: icon,
                    confirmButtonText: confirmButtonText
               })
          }

          function prompt() {

               let toast = function (c) {
                    const {
                         msg = "",
                         icon = "success",
                         position = "top-end",
                    } = c;

                    const Toast = Swal.mixin({
                         toast: true,
                         title: msg,
                         position: position,
                         icon: icon,
                         showConfirmButton: false,
                         timer: 3000,
                         timerProgressBar: true,
                         didOpen: (toast) => {
                              toast.addEventListener('mouseenter', Swal.stopTimer);
                              toast.addEventListener('mouseleave', Swal.resumeTimer);
                         }
                    });

                    // Trigger the toast
                    Toast.fire({});

               }

               let success = function () {
                    console.log("clicked and got success");
               }


               async function custom(c) {
                    const {
                         msg = html,
                         title = "Pick Your Dates",
                    } = c;

                    const { value: formValues } = await Swal.fire({
                         title: title,
                         html: msg,
                         backdrop: false,
                         focusConfirm: false,
                         showCancelButton: true,
                         willOpen: () => {
                         // I guess No need - after attribute "disabled" removed, creating date picker object
                         // Initialize the date pickers when the modal opens
                         //const startInput = document.getElementById('start');
                         //const endInput = document.getElementById('end');

                         //if (startInput && endInput) {
                         // Initialize Datepicker for start and end inputs
                         //new Datepicker(startInput, { format: 'mm/dd/yyyy', autohide: true });
                         //new Datepicker(endInput, { format: 'mm/dd/yyyy', autohide: true });
                         //} else {
                    //console.error("Start or End input not found for date picker.");
                         //}                       
                    },

                    preConfirm: () => {
                              return [
                                   document.getElementById("start").value,
                                   document.getElementById("end").value
                              ];
                         },
                    
                    didOpen: () => {
                         const startInput = document.getElementById('start');
                         const endInput = document.getElementById('end');
                    
                         // Remove the disabled attribute
                         startInput.removeAttribute('disabled');
                         endInput.removeAttribute('disabled');
                    
                         // Initialize Datepicker after enabling the inputs
                         new Datepicker(startInput, { format: 'mm/dd/yyyy', autohide: true });
                         new Datepicker(endInput, { format: 'mm/dd/yyyy', autohide: true });
                    },

                    
                    });
                    if (formValues) {
                         Swal.fire(JSON.stringify(formValues));
                    }
               }


               return {
                    toast: toast,
                    success: success,
                    custom: custom,
               }
          }

     </script>


</body>

</html>